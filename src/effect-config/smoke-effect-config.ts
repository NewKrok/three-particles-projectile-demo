import { ParticleSystemConfig } from "@newkrok/three-particles";
import { EffectConfig } from "../types";

const init: ParticleSystemConfig = JSON.parse('{"duration":0.35,"looping":false,"startLifetime":{"min":0.4,"max":0.7},"startSpeed":{"min":0.8,"max":4.0},"startSize":{"min":3.0,"max":8.0},"startOpacity":{"min":0.6,"max":0.9},"startRotation":{"min":-360,"max":360},"startColor":{"min":{"r":0.4,"g":0.4,"b":0.4},"max":{"r":0.7,"g":0.7,"b":0.7}},"maxParticles":40,"emission":{"rateOverTime":60},"shape":{"shape":"CONE","sphere":{"radius":0.0001},"cone":{"angle":12,"radius":0.2}},"renderer":{"blending":"THREE.NormalBlending"},"sizeOverLifetime":{"isActive":true,"lifetimeCurve":{"bezierPoints":[{"x":0,"y":0.3,"percentage":0},{"x":0.1666,"y":0.5},{"x":0.3399,"y":0.7},{"x":0.5066,"y":0.85,"percentage":0.5066},{"x":0.6732,"y":0.95},{"x":0.8333,"y":1.0},{"x":1,"y":1,"percentage":1}]}},"opacityOverLifetime":{"isActive":true,"lifetimeCurve":{"bezierPoints":[{"x":0,"y":0,"percentage":0},{"x":0,"y":0.8},{"x":0,"y":0.9},{"x":0.3,"y":1,"percentage":0.3},{"x":0.7,"y":0.8},{"x":1,"y":0.5},{"x":1,"y":0,"percentage":1}]}},"rotationOverLifetime":{"isActive":true,"min":-15,"max":15},"_editorData":{"textureId":"CLOUD","simulation":{"movements":"DISABLED","movementSpeed":1,"rotation":"DISABLED","rotationSpeed":1},"showLocalAxes":false,"showWorldAxes":false,"frustumCulled":true,"terrain":{"textureId":"WIREFRAME","movements":"DISABLED","movementSpeed":1,"rotation":"DISABLED","rotationSpeed":1},"metadata":{"name":"Smoke-1","createdAt":1760813447603,"modifiedAt":1760813447603,"editorVersion":"2.1.0"}}}');
const movement: ParticleSystemConfig = JSON.parse('{"duration":100,"startLifetime":{"min":0.6,"max":1},"startSpeed":{"min":0,"max":0},"startSize":{"min":5.34,"max":8},"startOpacity":{"min":0.4,"max":0.8},"startRotation":{"min":-360,"max":360},"startColor":{"min":{"r":0.5,"g":0.5,"b":0.5},"max":{"r":0.8,"g":0.8,"b":0.8}},"simulationSpace":"WORLD","maxParticles":40,"emission":{"rateOverTime":0,"rateOverDistance":6},"shape":{"sphere":{"radius":0.08}},"renderer":{"blending":"THREE.NormalBlending"},"velocityOverLifetime":{"linear":{"x":{},"y":{},"z":{}}},"sizeOverLifetime":{"isActive":true,"lifetimeCurve":{"bezierPoints":[{"x":0,"y":1,"percentage":0},{"x":0.1666,"y":0.8333},{"x":0.3333,"y":0.6666},{"x":0.5,"y":0.5,"percentage":0.5},{"x":0.6666,"y":0.3332},{"x":0.8333,"y":0.1665},{"x":1,"y":0,"percentage":1}]}},"opacityOverLifetime":{"isActive":true,"lifetimeCurve":{"bezierPoints":[{"x":0,"y":0.8,"percentage":0},{"x":0.1666,"y":1},{"x":0.3333,"y":0.9},{"x":0.5,"y":0.7,"percentage":0.5},{"x":0.6666,"y":0.4},{"x":0.8333,"y":0.1},{"x":1,"y":0,"percentage":1}]}},"rotationOverLifetime":{"isActive":true,"min":-122.3,"max":145.8},"noise":{"isActive":true,"useRandomOffset":true,"strength":0.4,"frequency":0.1,"positionAmount":0.191},"_editorData":{"textureId":"CLOUD","simulation":{"movements":"PROJECTILE_STRAIGHT","movementSpeed":1,"rotation":"DISABLED","rotationSpeed":1},"showLocalAxes":false,"showWorldAxes":false,"frustumCulled":true,"terrain":{"textureId":"WIREFRAME","movements":"DISABLED","movementSpeed":1,"rotation":"DISABLED","rotationSpeed":1},"metadata":{"name":"Smoke-1","createdAt":1760813581655,"modifiedAt":1760813581655,"editorVersion":"2.1.0"}}}');
const destroy: ParticleSystemConfig = JSON.parse('{"transform":{"rotation":{"x":-90}},"duration":0.8,"looping":false,"startLifetime":{"min":0.8,"max":1.5,"type":"BEZIER","scale":1,"bezierPoints":[{"x":0,"y":0.3,"percentage":0},{"x":0.5,"y":0.7},{"x":1,"y":1,"percentage":1}]},"startSpeed":{"min":0,"max":0.3,"type":"BEZIER","bezierPoints":[{"x":0,"y":1,"percentage":0},{"x":1,"y":0.6,"percentage":0.8},{"x":1,"y":0,"percentage":1}],"scale":1},"startSize":{"min":5.0,"max":12.0,"type":"BEZIER","bezierPoints":[{"x":0,"y":2,"percentage":0},{"x":1,"y":5,"percentage":0.5},{"x":1,"y":8,"percentage":1}],"scale":1},"startOpacity":{"min":0.6,"max":1,"type":"BEZIER","bezierPoints":[{"x":0,"y":0.8,"percentage":0},{"x":1,"y":1,"percentage":0.2},{"x":1,"y":0.3,"percentage":1}],"scale":1},"startRotation":{"min":-360,"max":360},"startColor":{"min":{"r":0.4,"g":0.4,"b":0.4},"max":{"r":0.9,"g":0.9,"b":0.9}},"gravity":0.02,"maxParticles":35,"emission":{"rateOverTime":50},"shape":{"sphere":{"radius":0.4},"cone":{"angle":45,"radius":0.2}},"velocityOverLifetime":{"linear":{"x":{},"y":{"type":"BEZIER","bezierPoints":[{"x":0,"y":0,"percentage":0},{"x":1,"y":1,"percentage":1}],"scale":1.2},"z":{}}},"sizeOverLifetime":{"isActive":true,"lifetimeCurve":{"bezierPoints":[{"x":0,"y":0.4,"percentage":0},{"x":0.2566,"y":0.7},{"x":0.1119,"y":0.8},{"x":0.3066,"y":0.9,"percentage":0.3066},{"x":0.5833,"y":1.0},{"x":0.7566,"y":1.1},{"x":1,"y":1.2,"percentage":1}]}},"opacityOverLifetime":{"isActive":true,"lifetimeCurve":{"bezierPoints":[{"x":0,"y":1,"percentage":0},{"x":0.1666,"y":0.9},{"x":0.3333,"y":0.7},{"x":0.5,"y":0.5,"percentage":0.5},{"x":0.6666,"y":0.3},{"x":0.8333,"y":0.1},{"x":1,"y":0,"percentage":1}]}},"rotationOverLifetime":{"min":-80,"max":80},"textureSheetAnimation":{"timeMode":"FPS","fps":0,"startFrame":{"min":1,"max":1}},"_editorData":{"textureId":"CLOUD","simulation":{"movements":"DISABLED","movementSpeed":1,"rotation":"DISABLED","rotationSpeed":1},"showLocalAxes":false,"showWorldAxes":false,"frustumCulled":true,"terrain":{"textureId":"WIREFRAME","movements":"DISABLED","movementSpeed":1,"rotation":"DISABLED","rotationSpeed":1},"metadata":{"name":"Smoke-1","createdAt":1760813625894,"modifiedAt":1760813625894,"editorVersion":"2.1.0"}}}');

export const smokeEffect: EffectConfig = {
  name: "Smoke",
  init,
  movement,
  destroy,
};